package test;import io.restassured.http.ContentType;import io.restassured.path.json.JsonPath;import io.restassured.response.Response;import org.json.JSONObject;import org.junit.Assert;import org.junit.Test;import static io.restassured.RestAssured.given;public class C12_Post_expectedDataAndJSonPathileAssertion {    @Test    public void post01(){        // 1.Aşama: Endpoint oluştur. İhtiyaç varsa requestBody hazırla (post, put, patch)        String url="https://restful-booker.herokuapp.com/booking";        JSONObject bookingdates=new JSONObject();        bookingdates.put("checkin","2021-06-01");        bookingdates.put("checkout","2021-06-10");        JSONObject reqBody=new JSONObject();        reqBody.put("firstname", "Ahmet");        reqBody.put("lastname", "Bulut");        reqBody.put("totalprice", 500);        reqBody.put("depositpaid", false);        reqBody.put("bookingdates", bookingdates);        reqBody.put("additionalneeds", "wifi");        //2.Aşama: ExpectedData hazırla:        JSONObject expData=new JSONObject();        expData.put("bookingid",24);        expData.put("booking",reqBody);        //3. Response oluştur ve kaydet.        Response response = given()                                .contentType(ContentType.JSON)                            .when()                                .body(reqBody.toString())                                .post(url);        response.prettyPrint();       //  4.Aşama: Assertion:        // Hatırlatma: expected için--> JSONObject yolu (C08'e bak)                    //   actual için--> JSONPath yolu   (C09'a bak)        JsonPath responseJSonPath=response.jsonPath();      Assert.assertEquals(expData.getJSONObject("booking").get("firstname"),responseJSonPath.get("booking.firstname"));      // Açıklama:      //  Assert.assertEquals        //                    (expData.getJSONObject("booking").get("firstname")  --> oluşturduğumuz expData JSONObjesinden firstname.i getirir        //                    ,responseJSonPath.get("booking.firstname"));        --> JSONPath.e dönüştürdüğümüz response.tan firstname.i getirir        Assert.assertEquals(expData.getJSONObject("booking").get("lastname"),responseJSonPath.get("booking.lastname"));        Assert.assertEquals(expData.getJSONObject("booking").get("totalprice"),responseJSonPath.get("booking.totalprice"));        Assert.assertEquals(expData.getJSONObject("booking").get("depositpaid"),responseJSonPath.get("booking.depositpaid"));        Assert.assertEquals(expData.getJSONObject("booking").getJSONObject("bookingdates").get("checkin")                            ,responseJSonPath.get("booking.bookingdates.checkin"));        Assert.assertEquals(expData.getJSONObject("booking").getJSONObject("bookingdates").get("checkout")                            ,responseJSonPath.get("booking.bookingdates.checkout"));        Assert.assertEquals(expData.getJSONObject("booking").get("additionalneeds"), responseJSonPath.get("booking.additionalneeds"));    }}